<!DOCTYPE html>
<html>
<% include ../partials/head %>
<% include ../partials/menu %>
<script src="https://code.highcharts.com/maps/highmaps.js"></script>
<script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
<script src="https://code.highcharts.com/mapdata/countries/es/es-all.js"></script>
<body>
<div class="container" style="margin-top: 20px;">
    <div class="row">
        <div class="col-md-4">
            <div class="card">
                <div class="card-block">
                    <h4 class="card-title">
                        <b><span class="fa fa-list"></span> Data</b>
                        <hr>
                    </h4>
                    <div class="card-text">

                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <div class="card myCard">
                <div class="card-block">
                    <h4 class="card-title"><span class="fa fa-bar-chart-o"></span> Chart</h4>
                    <hr>
                    <div id="container"></div>
                </div>
                <hr>
                <div class="card-footer text-xs-right">
                    <span class="fa fa-database"></span> This result is now stored in your own results!<br>
                    <small><a href="/users/profile">See my own results</a></small>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var global = <%- JSON.stringify(global) %>;
    jQuery.noConflict();
    var data = [
        {
            "hc-key": "es-pm",
            "value": 10
        },
        {
            "hc-key": "es-va",
            "value": 10
        },
        {
            "hc-key": "es-le",
            "value": 10
        },
        {
            "hc-key": "es-me",
            "value": 10
        },
        {
            "hc-key": "es-p",
            "value": 10
        },
        {
            "hc-key": "es-s",
            "value": 10
        },
        {
            "hc-key": "es-na",
            "value": 10
        },
        {
            "hc-key": "es-ce",
            "value": 10
        },
        {
            "hc-key": "es-cu",
            "value": 10
        },
        {
            "hc-key": "es-vi",
            "value": 10
        },
        {
            "hc-key": "es-ss",
            "value": 10
        },
        {
            "hc-key": "es-gr",
            "value": 10
        },
        {
            "hc-key": "es-mu",
            "value": 10
        },
        {
            "hc-key": "es-bu",
            "value": 10
        },
        {
            "hc-key": "es-sa",
            "value": 10
        },
        {
            "hc-key": "es-za",
            "value": 10
        },
        {
            "hc-key": "es-hu",
            "value": 10
        },
        {
            "hc-key": "es-m",
            "value": 10
        },
        {
            "hc-key": "es-gu",
            "value": 10
        },
        {
            "hc-key": "es-sg",
            "value": 10
        },
        {
            "hc-key": "es-se",
            "value": 10
        },
        {
            "hc-key": "es-t",
            "value": 10
        },
        {
            "hc-key": "es-te",
            "value": 10
        },
        {
            "hc-key": "es-v",
            "value": 10
        },
        {
            "hc-key": "es-bi",
            "value": 10
        },
        {
            "hc-key": "es-or",
            "value": 10
        },
        {
            "hc-key": "es-l",
            "value": 10
        },
        {
            "hc-key": "es-z",
            "value": 10
        },
        {
            "hc-key": "es-gi",
            "value": 10
        },
        {
            "hc-key": "es-ab",
            "value": 10
        },
        {
            "hc-key": "es-a",
            "value": 10
        },
        {
            "hc-key": "es-av",
            "value": 10
        },
        {
            "hc-key": "es-cc",
            "value": 10
        },
        {
            "hc-key": "es-to",
            "value": 10
        },
        {
            "hc-key": "es-ba",
            "value": 10
        },
        {
            "hc-key": "es-co",
            "value": 10,
            "partidos": '<b>PP</b>: 10<br>' +
            '<b>PSOE</b>: 1',
            "color": '#00FF00'
        },
        {
            "hc-key": "es-h",
            "value": 10
        },
        {
            "hc-key": "es-c",
            "value": 10
        },
        {
            "hc-key": "es-ma",
            "value": 10
        },
        {
            "hc-key": "es-po",
            "value": 10
        },
        {
            "hc-key": "es-lo",
            "value": 10
        },
        {
            "hc-key": "es-so",
            "value": 10
        },
        {
            "hc-key": "es-al",
            "value": 10
        },
        {
            "hc-key": "es-b",
            "value": 10
        },
        {
            "hc-key": "es-ca",
            "value": 10
        },
        {
            "hc-key": "es-o",
            "value": 10
        },
        {
            "hc-key": "es-cs",
            "value": 10
        },
        {
            "hc-key": "es-cr",
            "value": 10,
            "color": '#00FF00'
        },
        {
            "hc-key": "es-j",
            "value": 10
        },
        {
            "hc-key": "es-lu",
            "value": 10
        },
        {
            "hc-key": "es-tf",
            "value": 10
        },
        {
            "hc-key": "es-gc",
            "value": 10

        },
        {
            "value": 10
        }
    ];
    var options = {

        title: {
            text: 'Highmaps basic demo'
        },

        subtitle: {
            text: 'Source map: <a href="https://code.highcharts.com/mapdata/countries/es/es-all.js">Spain</a>'
        },

        colorAxis: {
            min: 0
        },
        tooltip: {
            backgroundColor: 'none',
            borderWidth: 0,
            shadow: true,
            useHTML: true,
            padding: 0,
            pointFormat: '{point.partidos}',
            positioner: function () {
                return {x: 0, y: 250};
            }
        },
        series: [{
            data: data,
            mapData: Highcharts.maps['countries/es/es-all'],
            joinBy: 'hc-key',
            name: 'Partidos',
            states: {
                hover: {
                    color: '#a4edba'
                }
            },
            dataLabels: {
                enabled: true,
                format: '{point.name}'
            }
        }]
    };
    (function ($) {
        $(function () {
            $('#container').highcharts('Map', options);
        });
    })(jQuery);

</script>
</body>
</html>
